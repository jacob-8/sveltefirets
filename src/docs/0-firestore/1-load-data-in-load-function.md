# Load Data in page load functions

Works both server and client side.

## Load Collection

Place this code in your corresponding `+page.ts` file:

```ts
import { getCollection } from 'sveltefirets';
import { limit, orderBy } from 'firebase/firestore';
import type { Message } from '$lib/message.interface';
import type { PageLoad } from './$types';
export const load: PageLoad = async () => {
  const messages = await getCollection<Message>(`messages`, [
    limit(5),
    orderBy('updatedAt', 'desc'),
  ]);
  return { messages };
}
```

Then in your `+page.svelte` file:

```svelte
<script lang="ts">
  import type { PageData } from './$types';
  export let data: PageData;
  $: ({messages} = data);
</script>
```

 If you want real-time updates, check out the `collectionStore` function or check out the experimental `incrementalCollectionStore` demoed below.

[[1-load-data-in-load-function.composition]]

## Load Document

Works the same way except you import `getDocument` in your `+page.ts` file:

```ts
import { getDocument } from 'sveltefirets';
import type { Message } from '$lib/message.interface';
import type { PageLoad } from './$types';
export const load: PageLoad = async () => {
  const message = await getDocument<Message>(`messages/fooId`);
  return { message };
}
```

The `Message` type is optional in both instances but highly recommended as it will give you proper types for your returned data.  If you want real-time updates, check out the `docStore` and `awaitableDocStore` functions.

<!-- feel free to test out page loaded data for the above messages using the following links:

- <a href="/demo/messages">Hover to preload firestore data for all messages on client (see console log)</a>
- <a href="/demo/messages" target="_blank">Load firestore data for all messages server-side (opens new tab)</a>
- <a href="/demo/api/messages" target="_blank">Messages API endpoint</a> -->



[//begin]: # "Autogenerated link references for markdown compatibility"
[1-load-data-in-load-function.composition]: 1-load-data-in-load-function.composition "1-load-data-in-load-function"
[//end]: # "Autogenerated link references"